<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CoreLogic1 | Neural Vision HUD</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/mobilenet"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap');
        body { background-color: #020617; font-family: 'Space Mono', monospace; color: white; overflow-x: hidden; }
        
        .video-container {
            position: relative;
            width: 100%;
            max-width: 640px;
            aspect-ratio: 4/3;
            overflow: hidden;
            border: 2px solid #38bdf8;
            box-shadow: 0 0 20px rgba(56, 189, 248, 0.4);
        }

        /* The Scanning HUD Overlay */
        .hud-corner { position: absolute; width: 30px; height: 30px; border: 4px solid #38bdf8; }
        .top-left { top: 10px; left: 10px; border-right: 0; border-bottom: 0; }
        .top-right { top: 10px; right: 10px; border-left: 0; border-bottom: 0; }
        .bottom-left { bottom: 10px; left: 10px; border-right: 0; border-top: 0; }
        .bottom-right { bottom: 10px; right: 10px; border-left: 0; border-top: 0; }

        .scan-bar {
            position: absolute;
            width: 100%;
            height: 4px;
            background: rgba(56, 189, 248, 0.5);
            box-shadow: 0 0 15px #38bdf8;
            animation: moveScan 3s ease-in-out infinite;
        }

        @keyframes moveScan {
            0%, 100% { top: 5%; }
            50% { top: 95%; }
        }

        .glitch-text { animation: glitch 1s linear infinite; }
        @keyframes glitch {
            0% { opacity: 1; }
            50% { opacity: 0.8; transform: translateX(1px); }
            100% { opacity: 1; }
        }
    </style>
</head>
<body class="p-4 flex flex-col items-center justify-center min-h-screen">

    <div class="fixed top-6 left-6 z-50">
        <div class="flex items-center gap-2">
            <div class="w-3 h-3 bg-red-500 rounded-full animate-pulse"></div>
            <span class="text-xl font-bold tracking-tighter uppercase text-white">CORE<span class="text-sky-400">LOGIC1</span> <span class="text-xs border border-sky-400 px-1 ml-1">V.2.0</span></span>
        </div>
        <p id="ai-status" class="text-[10px] text-sky-500 mt-1 uppercase tracking-widest">System: Booting...</p>
    </div>

    <div class="max-w-4xl w-full flex flex-col md:flex-row gap-8 items-center">
        
        <div class="video-container rounded-lg bg-black">
            <video id="webcam" autoplay playsinline muted class="w-full h-full object-cover grayscale brightness-125 contrast-125"></video>
            <div class="hud-corner top-left"></div>
            <div class="hud-corner top-right"></div>
            <div class="hud-corner bottom-left"></div>
            <div class="hud-corner bottom-right"></div>
            <div class="scan-bar"></div>
            
            <div class="absolute bottom-4 left-4 bg-sky-500/20 backdrop-blur-md p-2 border border-sky-500/50 text-[10px]">
                COORD: <span id="coords">0.00, 0.00</span><br>
                FPS: <span id="fps">60</span>
            </div>
        </div>

        <div class="w-full md:w-80 space-y-4">
            <h2 class="text-sky-400 font-bold text-sm tracking-widest">NEURAL FEED_</h2>
            <div id="results" class="space-y-4">
                <div class="animate-pulse bg-slate-900 border border-slate-800 p-4 h-24 rounded-lg"></div>
                <div class="animate-pulse bg-slate-900 border border-slate-800 p-4 h-24 rounded-lg"></div>
            </div>
            
            <button id="toggle-cam" class="w-full py-3 border border-sky-500 text-sky-500 hover:bg-sky-500 hover:text-black transition-all font-bold text-xs">
                TOGGLE SENSOR
            </button>
        </div>
    </div>

    <script>
        const video = document.getElementById('webcam');
        const status = document.getElementById('ai-status');
        const resultsDiv = document.getElementById('results');
        let model;

        // Initialize Camera
        async function setupCamera() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                video.srcObject = stream;
                return new Promise((resolve) => {
                    video.onloadedmetadata = () => resolve(video);
                });
            } catch (err) {
                status.innerText = "Error: Camera Access Denied";
                status.classList.add('text-red-500');
            }
        }

        // Initialize AI
        async function init() {
            status.innerText = "System: Loading Neural Weights...";
            model = await mobilenet.load();
            status.innerText = "System: AI Engine Online";
            await setupCamera();
            predict();
        }

        async function predict() {
            // Classify the video frame
            const predictions = await model.classify(video);
            
            // Update UI
            resultsDiv.innerHTML = '';
            predictions.forEach((p, i) => {
                const prob = Math.round(p.probability * 100);
                const div = document.createElement('div');
                div.className = `p-4 border border-sky-500/30 bg-sky-500/${i === 0 ? '20' : '5'} rounded-lg transition-all`;
                div.innerHTML = `
                    <div class="flex justify-between text-[10px] mb-1">
                        <span class="text-sky-400 font-bold">OBJ_${i+1}</span>
                        <span>${prob}% MATCH</span>
                    </div>
                    <div class="text-lg font-bold uppercase ${i === 0 ? 'glitch-text' : ''}">${p.className.split(',')[0]}</div>
                    <div class="w-full bg-slate-800 h-1 mt-2">
                        <div class="bg-sky-400 h-full" style="width: ${prob}%"></div>
                    </div>
                `;
                resultsDiv.appendChild(div);
            });

            // Update Coords (fake movement effect)
            document.getElementById('coords').innerText = `${(Math.random()*100).toFixed(2)}, ${(Math.random()*100).toFixed(2)}`;

            requestAnimationFrame(predict);
        }

        init();
    </script>
</body>
</html>
